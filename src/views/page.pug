doctype html
html(lang="en")
    include includes/head.pug
    body
        include includes/nav.pug

        main
            div.PageInfo
                pre Room #{info.roomShort} / Wall #{info.wall} / Shelf #{info.shelf} / Book #{info.book} / Page #{info.page}
                a(href=`/fullref/${info.uid}.${info.wall}.${info.shelf}.${info.book}.${info.page}`, target="_blank") Full reference

            div.PageContentWrapper
                div.PageContent
                    div.Lines
                        each line, index in lines
                            - const i = index + 1
                            span #{i < 10 ? `0${i}` : i}
                    pre #{lines.join('\n')}

            div.PageNavigation
                - if (prevPage !== null)
                    a(href=`/ref/${prevPage}`) &larr; Previous
                - else
                    div

                div.PageSelector
                    p Page
                    - let p = 0
                    select
                        while p < 410
                            - const selected = parseInt(p) + 1 === parseInt(info.page)
                            option(value=(p + 1), selected=selected)= p + 1
                            - p++

                - if (nextPage !== null)
                    a(href=`/ref/${nextPage}`) Next &rarr;
                - else
                    div

        include includes/footer.pug

    script(src="/js/highlightText.js", type="text/javascript")
    script(src="/js/pageSelector.js", type="text/javascript")
